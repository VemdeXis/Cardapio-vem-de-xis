<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Vem de Xis ‚Äî lanches | Card√°pio</title>
  <meta name="description" content="Card√°pio online do Vem de Xis ‚Äî lanches. Fa√ßa seu pedido e envie pelo WhatsApp, concluiremos seu pedido por l√°. Hor√°rio de funcionamento: 18h - 23h">
  <style>
    :root{
      --bg:#fff4e9;
      --accent:#ff7a00;
      --accent-2:#ff9d4d;
      --ink:#232323;
      --muted:#5a5a5a;
      --card:#ffffff;
      --border:#ffd1a6;
      --ok:#1a8917;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';}
    header{
      position:sticky;top:0;z-index:10;
      background:linear-gradient(180deg, #fff 0%, rgba(255,255,255,0.94) 100%);
      backdrop-filter:saturate(180%) blur(6px);
      border-bottom:1px solid var(--border);
    }
    .container{max-width:960px;margin:0 auto;padding:16px}
    .brand{display:flex;align-items:center;gap:14px}
    .brand img{width:56px;height:56px;border-radius:12px;object-fit:cover;border:1px solid var(--border);background:#ffa64d1a}
    .brand h1{margin:0;font-size:1.25rem}
    .brand p{margin:0;color:var(--muted);font-size:0.9rem}
    .grid{display:grid;gap:16px;grid-template-columns:repeat(12,1fr)}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px}
    .span-8{grid-column:span 8}
    .span-4{grid-column:span 4}
    @media (max-width:900px){.span-8,.span-4{grid-column:span 12}}
    h2{margin:8px 0 12px 0;font-size:1.1rem}
    .item{display:grid;grid-template-columns: 1fr auto; gap:8px; padding:12px;border:1px solid var(--border);border-radius:12px;margin:8px 0;background:#fff;}
    .item-title{font-weight:600}
    .item-desc{font-size:0.9rem;color:var(--muted)}
    .item-price{font-weight:700}
    .qty{display:flex;align-items:center;gap:8px}
    .qty input{width:64px;padding:6px 8px;border:1px solid var(--border);border-radius:8px}
    .section{margin-top:8px}
    .pill{display:inline-block;background:rgba(255,122,0,0.14);color:#a54a00;border:1px solid var(--border);padding:2px 8px;border-radius:999px;font-size:0.8rem;margin-left:6px}
    .footer{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between}
    .note{width:100%;padding:10px;border:1px solid var(--border);border-radius:10px}
    .btn-primary{width:100%;padding:14px 16px;border:none;border-radius:12px;background:linear-gradient(180deg,var(--accent),var(--accent-2));color:#fff;font-size:1rem;font-weight:700;cursor:pointer}
    .btn-primary:disabled{opacity:.5;cursor:not-allowed}
    .totals{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
    .totals b{font-size:1.1rem}
    .ok{color:var(--ok);font-weight:700}
    .muted{color:var(--muted)}
    .tiny{font-size:0.8rem}
    .money{white-space:nowrap}
    .badge{background:#fff;border:1px solid var(--border);padding:6px 10px;border-radius:10px}
    .hero{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  
/* --- melhorias de UX --- */
.btn-qty{
  width:36px;height:36px;border:1px solid var(--border);
  border-radius:10px;background:#fff;font-size:20px;font-weight:700;
  line-height:1;display:grid;place-items:center;cursor:pointer
}
.qty{gap:6px}
.qty input{width:56px;text-align:center}
.subcard{border:1px solid var(--border);border-radius:12px;padding:12px;background:#fff;margin:8px 0 12px 0}
.subcard h3{margin:0 0 8px 0;font-size:1rem}
.subcard label{display:block;margin:6px 0}
.subcard .row{display:flex;gap:8px;flex-wrap:wrap}
.subcard .col{flex:1;min-width:120px}
.subcard input[type="text"], .subcard input[type="number"]{width:100%;padding:8px;border:1px solid var(--border);border-radius:8px}
.addr{display:none}

/* ====== MODO MOBILE: layout mais compacto ====== */
@media (max-width: 520px){
  .container{padding:12px}
  .grid{gap:12px}
  .card{padding:12px;border-radius:12px}

  h2{font-size:1rem;margin:6px 0 10px}
  .item{
    grid-template-columns: 1fr auto;
    gap:6px;
    padding:10px;
    border-radius:12px;
    margin:10px 0;
  }
  .item-title{font-size:1rem; line-height:1.2}
  .item-desc{
    font-size:.88rem; line-height:1.2; color:var(--muted);
    display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
    /* corta o texto em 2 linhas no mobile */
  }
  .item-price{font-size:.95rem}

  .qty{gap:6px}
  .btn-qty{width:32px;height:32px;border-radius:9px;font-size:18px}
  .qty input{width:44px;padding:4px 6px}

  /* Sidebar (Seu pedido) mais enxuta */
  aside .card .note{padding:8px}
  .totals{margin-top:6px}
  .btn-primary{padding:12px 14px;border-radius:10px}
}


/* ===== MOBILE: t√≠tulo em cima, controles embaixo ===== */
@media (max-width: 520px){
  .item{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: 8px;
    align-items: start;
  }
  .item > div:first-child{
    grid-row: 1;
  }
  .item .qty{
    grid-row: 2;
    justify-content: space-between;
    align-items: center;
    padding-top: 6px;
    border-top: 1px dashed var(--border);
  }
  .item-title{
    font-size: 1rem;
    line-height: 1.2;
    margin-bottom: 4px;
  }
  .item-desc{
    font-size: 0.88rem;
    line-height: 1.25;
    color: var(--muted);
  }
  .item-price{
    font-size: 1rem;
    font-weight: bold;
  }
  .btn-qty{
    width: 34px;
    height: 34px;
    border-radius: 8px;
    font-size: 18px;
  }
  .qty input{
    width: 46px;
    text-align: center;
    padding: 4px 6px;
  }
}

</style>
</head>
<body>
  <header>
    <div class="container brand">
      <div>
        <h1>Vem de Xis ‚Äî lanches <span class="pill">Card√°pio online</span></h1>
        <p>Fa√ßa seu pedido, envie pelo WhatsApp e concluiremos seu pedido por l√°. üôÇ</p>
		<p>Hor√°rio de funcionamento: 18h √†s 23h. Entregas somente em Arroio do Meio.</p>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="grid">
      <section class="span-8">
        <div class="card">
          <h2>üçî Lanches ‚Äî Xis</h2>
		  
		    <div class="item" data-id="xis-salada" data-name="Xis Salada" data-price="28">
            <div>
              <div class="item-title">Xis Salada</div>
              <div class="item-desc">P√£o, molho, maionese, milho, ervilha, tomate, alface, queijo, ovo e bife.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 28,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Xis Salada">
            </div>
          </div>
		  
          <div class="item" data-id="xis-calabresa" data-name="Xis Calabresa" data-price="32">
            <div>
              <div class="item-title">Xis Calabresa</div>
              <div class="item-desc">P√£o, molho, maionese, milho, ervilha, tomate, alface, queijo, ovo, bife e calabresa.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 32,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Xis Calabresa">
            </div>
          </div>

          <div class="item" data-id="xis-bacon" data-name="Xis Bacon" data-price="33">
            <div>
              <div class="item-title">Xis Bacon</div>
              <div class="item-desc">P√£o, molho, maionese, milho, ervilha, tomate, alface, queijo, ovo, bife e bacon.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 33,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Xis Bacon">
            </div>
          </div> 
		  
			<div class="item" data-id="xis-cora√ß√£o" data-name="Xis Cora√ß√£o" data-price="33">
            <div>
              <div class="item-title">Xis Cora√ß√£o</div>
              <div class="item-desc">P√£o, molho, maionese, milho, ervilha, tomate, alface, queijo, ovo e cora√ß√£o.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 33,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Xis Cora√ß√£o">
            </div>
          </div>

          <div class="item" data-id="xis-frango" data-name="Xis Frango" data-price="29">
            <div>
              <div class="item-title">Xis Frango</div>
              <div class="item-desc">P√£o, molho, maionese, milho, ervilha, tomate, alface, queijo, ovo e fil√© de sobrecoxa em cubos.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 29,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Xis Frango">
            </div>
          </div>

          <div class="item" data-id="xis-porco" data-name="Xis Porco com Barbecue" data-price="39">
            <div>
              <div class="item-title">Xis Porco com Barbecue</div>
              <div class="item-desc">P√£o, molho, maionese, couve chinesa, queijo colonial, bacon, ovo e porco desfiado com barbecue.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 39,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Xis Porto com Barbecue">
            </div>
          </div>
		  
		  <div class="item" data-id="xis-vazio" data-name="Xis Vazio com Queijo Coalho" data-price="42">
            <div>
              <div class="item-title">Xis Vazio com Queijo Coalho</div>
              <div class="item-desc">P√£o, molho, maionese, milho, tomate, couve chinesa, queijo coalho, ovo e vazio desfiado acebolado.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 42,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Xis Vazio">
            </div>
          </div>
		  
		    <div class="item" data-id="xis-moda" data-name="Xis Moda da Casa" data-price="37">
            <div>
              <div class="item-title">Xis Moda da Casa</div>
              <div class="item-desc">P√£o, molho, maionese, milho, queijo colonial, couve refogada com ovo e bacon, tomate, bife temperado com piment√£o, cebola, calabresa e pimenta de cheiro.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 37,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Xis Moda da Casa">
            </div>
          </div>

		 <div class="item" data-id="xis-bagunca" data-name="Xis Bagun√ßa" data-price="38">
            <div>
              <div class="item-title">Xis Bagun√ßa</div>
              <div class="item-desc">P√£o, molho, maionese, milho, ervilha, tomate, alface, queijo, ovo, bife, fil√© de sobrecoxa em cubos, cora√ß√£o, calabresa e bacon.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 38,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Xis Bagunca">
            </div>
          </div>
        </div>

        <div class="card section">
          <h2>üå≠ Cachorro-quente</h2>
          <div class="item" data-id="dog-trad" data-name="Cachorro-quente" data-price="23">
            <div>
              <div class="item-title">Cachorro-quente</div>
              <div class="item-desc">P√£o, molho, maionese, milho, ervilha, tomate, queijo e salsicha.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 23,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Cachorro-quente">
            </div>
          </div>
		  
		  <div class="item" data-id="dog-trad2" data-name="Cachorro-quente2" data-price="25">
            <div>
              <div class="item-title">Cachorro-quente duplo</div>
              <div class="item-desc">P√£o, molho, maionese, milho, ervilha, tomate, queijo e duas salsichas.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 25,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Cachorro-quente duplo">
            </div>
          </div>

		<div class="item" data-id="dog-bife" data-name="Cachorro-quentebife" data-price="27">
            <div>
              <div class="item-title">Cachorro-quente bife</div>
              <div class="item-desc">P√£o, molho, maionese, milho, ervilha, tomate, queijo e bife.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 27,00</div>
              <input type="number" min="0" step="1" placeholder="0" aria-label="Qtd Cachorro-quente bife">
            </div>
          </div> 
        </div>
     
		<div class="card section">
          <h2>üçü Hamb√∫rguer</h2>
          <div class="item" data-id="smash-d" data-name="Duplo smash burger" data-price="25">
            <div>
              <div class="item-title">Duplo Smash Burger</div>
              <div class="item-desc">P√£o, maionese, 2 smash burger de 80g cada, couve chinesa, picles agridoce e queijo.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 25,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		  </div>
		  
        <div class="card section">
          <h2>üçü Por√ß√µes</h2>
          <div class="item" data-id="batata-p" data-name="Batata Frita P" data-price="14">
            <div>
              <div class="item-title">Batata Frita P</div>
              <div class="item-desc">Por√ß√£o pequena em torno de 200g.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 14,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
          <div class="item" data-id="batata-m" data-name="Batata Frita G" data-price="22">
            <div>
              <div class="item-title">Batata Frita G</div>
              <div class="item-desc">Por√ß√£o m√©dia em torno de 400g.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 22,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
          <div class="item" data-id="batata-p bc" data-name="Batata Frita P com Bacon e Cheddar" data-price="20">
            <div>
              <div class="item-title">Batata Frita P com bacon e cheddar</div>
              <div class="item-desc">Por√ß√£o pequena em torno de 200g com bacon e cheddar.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 20,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		 
			<div class="item" data-id="batata-m bc" data-name="Batata Frita G com Bacon e Cheddar" data-price="30">
            <div>
              <div class="item-title">Batata Frita G com bacon e cheddar</div>
              <div class="item-desc">Por√ß√£o m√©dia em torno de 400g com bacon e cheddar.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 30,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>		 
		  
        </div>

        <div class="card section">
          <h2>üç∞ Sobremesa</h2>
          <div class="item" data-id="tortinha" data-name="Tortinha de Bolacha" data-price="9">
            <div>
              <div class="item-title">Tortinha de Bolacha</div>
              <div class="item-desc">Em torno de 350g.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 9,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
        </div>

        <div class="card section">
          <h2>ü•§ Bebidas</h2>
          <div class="item" data-id="cerveja original" data-name="Cerveja Original Lat√£o" data-price="9">
            <div>
              <div class="item-title">Cerveja Original Lat√£o</div>
              <div class="item-desc">473 ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 9,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		  <div class="item" data-id="cerveja brahma" data-name="Cerveja Brahma Lat√£o" data-price="8">
            <div>
              <div class="item-title">Cerveja Brahma Lat√£o</div>
              <div class="item-desc">473 ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 8,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		  <div class="item" data-id="long neck" data-name="Heinecken Long Neck" data-price="10">
            <div>
              <div class="item-title">Heinecken Long Neck</div>
              <div class="item-desc">330 ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 10,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		 <div class="item" data-id="long neck zero" data-name="Cerveja Heinecken Lat√£o" data-price="10">
            <div>
              <div class="item-title">Cerveja Heinecken Lat√£o</div>
              <div class="item-desc">473 ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 10,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		 <div class="item" data-id="lat√£o heinecken" data-name="Heinecken Long Neck Zero" data-price="10">
            <div>
              <div class="item-title">Heinecken Long Neck Zero √Ålcool</div>
              <div class="item-desc">330 ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 10,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
          <div class="item" data-id="refri lt coca" data-name="Refrigerante Coca lata" data-price="7">
            <div>
              <div class="item-title">Refrigerante Coca-Cola lata</div>
              <div class="item-desc">350ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 7,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		   <div class="item" data-id="refri lt coca zero" data-name="Refrigerante Coca lata zero" data-price="7">
            <div>
              <div class="item-title">Refrigerante Coca-Cola Zero lata</div>
              <div class="item-desc">350ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 7,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		  <div class="item" data-id="refri lt fruki" data-name="Refrigerante Fruki lata" data-price="5">
            <div>
              <div class="item-title">Refrigerante Fruki lata</div>
              <div class="item-desc">350ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 5,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		  <div class="item" data-id="frukito" data-name="Refresco Frukito" data-price="7">
            <div>
              <div class="item-title">Refresco Frukito</div>
              <div class="item-desc">500ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 7,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
			  <div class="item" data-id="sprite" data-name="Refrigerante Sprite Lemon Fresh" data-price="7">
            <div>
              <div class="item-title">Refrigerante Sprite Lemon Fresh</div>
              <div class="item-desc">510ml.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 7,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
			  <div class="item" data-id="coca 1lt" data-name="Refrigerante Coca-Cola 1LT" data-price="10">
            <div>
              <div class="item-title">Refrigerante Coca-Cola 1LT</div>
              <div class="item-desc">1 litro PET.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 10,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		   <div class="item" data-id="refri 2lt fruki" data-name="Refrigerante Fruki 2LT" data-price="12">
            <div>
              <div class="item-title">Refrigerante Fruki 2LT</div>
              <div class="item-desc">2 litros.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 12,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
          <div class="item" data-id="agua s" data-name="√Ågua Sem G√°s" data-price="4">
            <div>
              <div class="item-title">√Ågua</div>
              <div class="item-desc">Sem g√°s.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 4,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
		  <div class="item" data-id="agua c" data-name="√Ågua Com G√°s" data-price="4">
            <div>
              <div class="item-title">√Ågua</div>
              <div class="item-desc">Com g√°s.</div>
            </div>
            <div class="qty">
              <div class="item-price money">R$ 4,00</div>
              <input type="number" min="0" step="1" placeholder="0">
            </div>
          </div>
        </div>
      </section>

      <aside class="span-4">
        <div class="card">
          <h2>Seu pedido</h2>
          <div id="cartEmpty" class="muted tiny">Nenhum item selecionado.</div>
          <div id="cart"></div>
          
<div class="subcard" id="deliveryBox">
  <h3>üì¶ Como voc√™ quer receber?</h3>
  <label><input type="radio" name="saida" value="retirada" checked> Retirada no balc√£o <span class="tiny muted">(~25 min)</span></label>
  <label><input type="radio" name="saida" value="delivery"> Entrega por delivery <span class="tiny muted">(~30‚Äì50 min)</span></label>
  <div class="addr" id="addr">
    <div class="row">
      <div class="col"><input id="rua" placeholder="Rua" type="text"></div>
      <div class="col" style="max-width:140px"><input id="numero" placeholder="N√∫mero" type="text"></div>
      <div class="col"><input id="bairro" placeholder="Bairro" type="text"></div>
    </div>
    <div class="tiny muted" style="margin-top:6px">Entregas somente em Arroio do Meio.</div>
  </div>
</div>

<div class="subcard" id="paymentBlock">
  <h3>üí≥ Como voc√™ quer pagar?</h3>
  <label><input type="radio" name="payment" value="Dinheiro"> Dinheiro</label>
  <div id="trocoWrap" style="display:none; margin-left:24px">
    <label class="tiny muted" for="trocoValue">Troco para quanto?</label>
    <input type="number" id="trocoValue" placeholder="Ex: 50, 100">
  </div>
  <label><input type="radio" name="payment" value="Cart√£o"> Cart√£o</label>
  <label><input type="radio" name="payment" value="PIX" checked> PIX</label>
</div>

<div class="totals">
            <span class="muted">Total</span>
            <b id="total">R$ 0,00</b>
          </div>
          <textarea id="obs" class="note" rows="3" placeholder="Observa√ß√µes (ex: sem ervilha, sem milho..)"></textarea>
          <button id="sendBtn" class="btn-primary" disabled>Enviar pedido no WhatsApp</button>
          <p class="tiny muted">Ao clicar, abriremos o WhatsApp com o pedido preenchido. Voc√™ confirma l√° üòä</p>
        </div>

      
      </aside>
    </div>
  </main>

  <script>
    // N√∫mero do WhatsApp (DDI+DDD+N√öMERO) ‚Äî edit√°vel
    const WHATSAPP_NUMBER = "5551994190507";

    const currency = (v)=> v.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});

    const items = Array.from(document.querySelectorAll('.item'));
    const cartDiv = document.getElementById('cart');
    const cartEmpty = document.getElementById('cartEmpty');
    const totalEl = document.getElementById('total');
    const sendBtn = document.getElementById('sendBtn');
    const obs = document.getElementById('obs');

    function getCart(){
      const cart = [];
      items.forEach(el=>{
        const qty = Number(el.querySelector('input').value || 0);
        if(qty>0){
          cart.push({
            id: el.dataset.id,
            name: el.dataset.name,
            price: Number(el.dataset.price),
            qty
          });
        }
      });
      return cart;
    }

    function renderCart(){
      const cart = getCart();
      cartDiv.innerHTML = '';
      let total = 0;
      if(cart.length===0){
        cartEmpty.style.display='block';
        sendBtn.disabled = true;
      }else{
        cartEmpty.style.display='none';
        sendBtn.disabled = false;
      }
      cart.forEach(row=>{
        const line = document.createElement('div');
        line.className='item';
        const subtotal = row.price * row.qty;
        total += subtotal;
        line.innerHTML = `
          <div>
            <div class="item-title">${row.qty}√ó ${row.name}</div>
            <div class="item-desc tiny muted">Unit√°rio ${currency(row.price)}</div>
          </div>
          <div class="qty">
            <div class="item-price money">${currency(subtotal)}</div>
          </div>
        `;
        cartDiv.appendChild(line);
      });
      totalEl.textContent = currency(total);
    }

    items.forEach(el=>{
      const input = el.querySelector('input');
      input.addEventListener('input', renderCart);
    });

    function buildMessage(){
      const cart = getCart();
      const lines = [];
      lines.push('*üçî Pedido ‚Äî Vem de Xis*');
      lines.push('');
      cart.forEach(r=>lines.push(`‚Ä¢ ${r.qty}√ó ${r.name} ‚Äî ${currency(r.price*r.qty)}`));
      const total = cart.reduce((s,r)=>s+r.price*r.qty,0);
      lines.push('');
      lines.push(`*Total:* ${currency(total)}`);
      if(obs.value.trim()){
        lines.push('');
        lines.push(`*Observa√ß√µes:* ${obs.value.trim()}`);
      }
      lines.push('');
      lines.push('üëâ Enviado pelo card√°pio online');
      return lines.join('%0A'); // URL encoded newlines
    }

    sendBtn.addEventListener('click', ()=>{
      const msg = buildMessage();
      const wa = `https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`;
      window.open(wa,'_blank');
    });

    // Initial render
    renderCart();
  
// ===== Bot√µes +/- para quantidade =====
function enhanceQty(){
  items.forEach(el=>{
    const qtyBox = el.querySelector('.qty');
    const input  = el.querySelector('input[type="number"]');
    if(!qtyBox || !input) return;
    input.readOnly = true;
    if (input.value === "") input.value = 0;
    if(qtyBox.querySelector('.btn-qty')) return; // evita duplicar

    const dec = document.createElement('button');
    dec.type = 'button';
    dec.className = 'btn-qty';
    dec.textContent = '‚àí';

    const inc = document.createElement('button');
    inc.type = 'button';
    inc.className = 'btn-qty';
    inc.textContent = '+';

    qtyBox.insertBefore(dec, input);
    qtyBox.appendChild(inc);

    dec.addEventListener('click', ()=>{
      const v = Math.max(0, Number(input.value||0) - 1);
      input.value = v;
      renderCart();
    });
    inc.addEventListener('click', ()=>{
      const v = Number(input.value||0) + 1;
      input.value = v;
      renderCart();
    });
  });
}

// ===== Retirada / Delivery =====
const saidaRadios = document.querySelectorAll('input[name="saida"]');
const addrBox = document.getElementById('addr');
const rua = document.getElementById('rua');
const numero = document.getElementById('numero');
const bairro = document.getElementById('bairro');

function selectedSaida(){
  const r = Array.from(saidaRadios).find(x=>x.checked);
  return r ? r.value : 'retirada';
}
function updateDeliveryUI(){
  const sel = selectedSaida();
  addrBox.style.display = sel==='delivery' ? 'block' : 'none';
}

// ===== Pagamento =====
const paymentRadios = document.querySelectorAll('input[name="payment"]');
const trocoWrap = document.getElementById('trocoWrap');
const trocoValue = document.getElementById('trocoValue');
function updatePaymentUI(){
  const sel = Array.from(paymentRadios).find(x=>x.checked);
  if(sel && sel.value==='Dinheiro'){
    trocoWrap.style.display='block';
  }else{
    trocoWrap.style.display='none';
    if(trocoValue) trocoValue.value='';
  }
}

// ===== Habilitar envio =====
function updateSendState(){
  const hasItems = getCart().length>0;
  let ok = hasItems;
  if(selectedSaida()==='delivery'){
    ok = ok && rua && numero && bairro && rua.value.trim() && numero.value.trim() && bairro.value.trim();
  }
  sendBtn.disabled = !ok;
}

// ===== Estender mensagem do WhatsApp =====
(function(){
  const originalBuildMessage = buildMessage;
  window.buildMessage = function(){
    const msgBase = originalBuildMessage();
    const lines = [];

    // Sa√≠da
    const s = selectedSaida();
    if(s==='retirada'){
      lines.push('%0A*Retirada no balc√£o* (~25 min)');
    }else{
      lines.push('%0A*Entrega por delivery* (~30‚Äì50 min)');
      lines.push(`%0AEndere√ßo: ${encodeURIComponent(rua.value)}, ${encodeURIComponent(numero.value)} ‚Äî ${encodeURIComponent(bairro.value)}`);
      lines.push('%0A(Entregas somente em Arroio do Meio)');
    }

    // Pagamento
    const pay = Array.from(paymentRadios).find(x=>x.checked);
    if(pay){
      lines.push(`%0A*Pagamento:* ${encodeURIComponent(pay.value)}`);
      if(pay.value==='Dinheiro' && trocoValue && trocoValue.value.trim()){
        lines.push(`%0A*Troco para:* R$ ${encodeURIComponent(trocoValue.value.trim())}`);
      }
    }
    return msgBase + lines.join('');
  };
})();

// Eventos
document.addEventListener('DOMContentLoaded', ()=>{
  enhanceQty();
  saidaRadios.forEach(r=>r.addEventListener('change', ()=>{updateDeliveryUI(); updateSendState();}));
  if(rua) rua.addEventListener('input', updateSendState);
  if(numero) numero.addEventListener('input', updateSendState);
  if(bairro) bairro.addEventListener('input', updateSendState);
  paymentRadios.forEach(r=>r.addEventListener('change', ()=>{updatePaymentUI();}));
  updateDeliveryUI();
  updatePaymentUI();
  updateSendState();
});

</script>
</body>
</html>
